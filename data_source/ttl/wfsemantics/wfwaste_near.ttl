# @Author(s): Eric Top, Simon Scheider
@prefix ccd: <http://geographicknowledge.de/vocab/CoreConceptData.rdf#> .
@prefix data: <https://github.com/quangis/cct/blob/master/tools/data.ttl#> .
@prefix dbo: <https://dbpedia.org/ontology/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix repo: <https://example.com/#> .
@prefix tools: <https://github.com/quangis/cct/blob/master/tools/tools.ttl#> .
@prefix wf: <http://geographicknowledge.de/vocab/Workflow.rdf#> .

repo:wfwaste_near a wf:Workflow ;
    wf:edge data:wfwaste_near_n0,
        data:wfwaste_near_n11,
        data:wfwaste_near_n13,
        data:wfwaste_near_n3,
        data:wfwaste_near_n5,
        data:wfwaste_near_n8 ;
    dct:subject "" ;
    rdfs:comment "What is the total walking time to the nearest waste disposal places from each household in the Amsterdam city centre?" ;
    dbo:abstract "." .

data:wfwaste_near_afvalcontainers rdfs:label "Waste containers" ;
    a ccd:Point ;
    rdfs:comment "Point locations of waste containers in Amsterdam" .

data:wfwaste_near_gebiedsindeling rdfs:label "Amsterdam city Neighborhoods" ;
    a ccd:Polygon ;
    rdfs:comment "Amsterdam city neighborhoods" .

data:wfwaste_near_n0 wf:applicationOf tools:SelectLayerByAttribute ;
    wf:input1 data:wfwaste_near_verblijfsobject ;
    wf:output data:wfwaste_near_residential_dwellings .

data:wfwaste_near_n11 wf:applicationOf tools:AddField ;
    wf:input1 data:wfwaste_near_residential_dwellings_dist ;
    wf:output data:wfwaste_near_residentialDwellingsDuration .

data:wfwaste_near_n13 wf:applicationOf tools:CalculateField ;
    wf:input1 data:wfwaste_near_residentialDwellingsDuration ;
    wf:output data:wfwaste_near_residentialDwellingsDuration2 .

data:wfwaste_near_n3 wf:applicationOf tools:SelectLayerByLocation ;
    wf:input1 data:wfwaste_near_residential_dwellings ;
    wf:input2 data:wfwaste_near_Amsterdam ;
    wf:output data:wfwaste_near_residential_dwellings_amsterdam .

data:wfwaste_near_n5 rdfs:label "Amsterdam city Neighborhoods" ;
    wf:applicationOf tools:SelectLayerByAttribute ;
    wf:input1 data:wfwaste_near_gebiedsindeling ;
    wf:output data:wfwaste_near_Amsterdam ;
    rdfs:comment "Amsterdam city neighborhoods" .

data:wfwaste_near_n8 wf:applicationOf tools:GenerateNearTable ;
    wf:input1 data:wfwaste_near_residential_dwellings_amsterdam ;
    wf:input2 data:wfwaste_near_afvalcontainers ;
    wf:output data:wfwaste_near_residential_dwellings_dist .

data:wfwaste_near_residentialDwellingsDuration2 rdfs:label "Dwellings Amsterdam (Time)" ;
    a ccd:Point ;
    rdfs:comment "Vector points representing residential dwellings in the Centrum neighborhood of Amsterdam with the travel time to the nearest waste container as an attribute" .

data:wfwaste_near_verblijfsobject rdfs:label "Dwelling locations" ;
    a ccd:Point ;
    rdfs:comment "Point locations of dwellings in the Netherlands" .

data:wfwaste_near_Amsterdam rdfs:label "Amsterdam Centrum" ;
    a ccd:Polygon ;
    rdfs:comment "A vector polygon representing the Centrum neighborhood of Amsterdam" .

data:wfwaste_near_residentialDwellingsDuration rdfs:label "Dwellings Amsterdam (Time_Prep)" ;
    a ccd:Point ;
    rdfs:comment "Vector points representing residential dwellings in the Centrum neighborhood of Amsterdam with an empty attribute for the travel time to the nearest waste container as an attribute" .

data:wfwaste_near_residential_dwellings rdfs:label "Residential dwellings" ;
    a ccd:Point ;
    rdfs:comment "Point locations of dwellings with a residential function" .

data:wfwaste_near_residential_dwellings_amsterdam rdfs:label "Dwellings Amsterdam" ;
    a ccd:Point ;
    rdfs:comment "Vector points representing residential dwellings in the Centrum neighborhood of Amsterdam" .

data:wfwaste_near_residential_dwellings_dist rdfs:label "Dwellings Amsterdam (Dist)" ;
    a ccd:Point ;
    rdfs:comment "Vector points representing residential dwellings in the centrum neighborhood of amsterdam with the distance to the nearest waste container as an attribute" .

