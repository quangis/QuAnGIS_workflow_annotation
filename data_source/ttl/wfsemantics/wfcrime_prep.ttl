# @Author(s): Eric Top
@prefix ccd: <http://geographicknowledge.de/vocab/CoreConceptData.rdf#> .
@prefix cct: <https://github.com/quangis/cct#> .
@prefix data: <https://github.com/quangis/cct/blob/master/tools/data.ttl#> .
@prefix dbo: <https://dbpedia.org/ontology/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix repo: <https://example.com/#> .
@prefix tools: <https://github.com/quangis/cct/blob/master/tools/tools.ttl#> .
@prefix wf: <http://geographicknowledge.de/vocab/Workflow.rdf#> .

repo:wfcrime_route a wf:Workflow ;
    wf:edge data:wfcrime_route_n0,
        data:wfcrime_route_n10,
        data:wfcrime_route_n12,
        data:wfcrime_route_n15,
        data:wfcrime_route_n16,
        data:wfcrime_route_n17,
        data:wfcrime_route_n20,
        data:wfcrime_route_n23,
        data:wfcrime_route_n24 ;
    dct:subject "Subject" ;
    rdfs:comment "Question" ;
    dbo:abstract "Abstract" .

data:wfcrime_route_home a ccd:NominalA ;
    a ccd:ObjectQ ;
    a ccd:PointA .

data:wfcrime_route_n0 wf:applicationOf tools:FeatureClassToFeatureClass ;
    wf:input1 data:wfcrime_route_function_mix ;
    wf:output data:wfcrime_route_house_area ;
    cct:expression "subset (1: ObjectInfo(Nom)) (-: C(Nom))" .

data:wfcrime_route_n10 wf:applicationOf tools:FeatureToPoint ;
    wf:input1 data:wfcrime_route_house_area ;
    wf:output data:wfcrime_route_house_area_points .

data:wfcrime_route_n12 wf:applicationOf tools:CreateRandomPoints ;
    wf:input1 data:wfcrime_route_house_area_points ;
    wf:output data:wfcrime_route_home .

data:wfcrime_route_n15 wf:applicationOf tools:FeatureClassToFeatureClass ;
    wf:input1 data:wfcrime_route_function_mix ;
    wf:output data:wfcrime_route_office_area ;
    cct:expression "subset (1: ObjectInfo(Nom)) (-: C(Nom))" .

data:wfcrime_route_n16 wf:applicationOf tools:FeatureToPoint ;
    wf:input1 data:wfcrime_route_office_area ;
    wf:output data:wfcrime_route_office_area_points .

data:wfcrime_route_n17 wf:applicationOf tools:CreateRandomPoints ;
    wf:input1 data:wfcrime_route_office_area_points ;
    wf:output data:wfcrime_route_office .

data:wfcrime_route_n20 wf:applicationOf tools:CreateRandomPoints ;
    wf:input1 data:wfcrime_route_sport_area_points ;
    wf:output data:wfcrime_route_sport ;
    cct:expression "generateobjects (1: ObjectInfo(Nom))" .

data:wfcrime_route_n23 wf:applicationOf tools:CreateRandomPoints ;
    wf:input1 data:wfcrime_route_supermarket_area_points ;
    wf:output data:wfcrime_route_supermarket ;
    cct:expression "generateobjects (1: ObjectInfo(Nom))" .

data:wfcrime_route_n24 wf:applicationOf tools:Merge ;
    wf:input1 data:wfcrime_route_supermarket ;
    wf:input2 data:wfcrime_route_office ;
    wf:input3 data:wfcrime_route_sport ;
    wf:output data:wfcrime_route_work_sport_store_locations ;
    cct:expression """ set_union(
        3:ObjectInfo(Nom),
        set_union(
            1:ObjectInfo(Nom), 
            2:ObjectInfo(Nom)
            )
        )""" .

data:wfcrime_route_sport_area_points a ccd:PointA ;
    a ccd:ObjectQ ;
    a ccd:NominalA .

data:wfcrime_route_supermarket_area_points a ccd:NominalA ;
    a ccd:PointA ;
    a ccd:ObjectQ .

data:wfcrime_route_work_sport_store_locations a ccd:PointA ;
    a ccd:NominalA ;
    a ccd:ObjectQ .

data:wfcrime_route_function_mix a ccd:ObjectQ ;
    a ccd:PlainVectorRegionA ;
    a ccd:NominalA ;
    rdfs:comment "Buildings with functions" .

data:wfcrime_route_house_area a ccd:ObjectQ ;
    a ccd:PlainVectorRegionA ;
    a ccd:NominalA .

data:wfcrime_route_office a ccd:ObjectQ ;
    a ccd:NominalA ;
    a ccd:PointA .

data:wfcrime_route_office_area a ccd:PlainVectorRegionA ;
    a ccd:NominalA ;
    a ccd:ObjectQ .

data:wfcrime_route_sport a ccd:ObjectQ ;
    a ccd:PointA ;
    a ccd:NominalA .

data:wfcrime_route_supermarket a ccd:NominalA ;
    a ccd:ObjectQ ;
    a ccd:PointA .

