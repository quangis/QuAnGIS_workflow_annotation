# @Author(s): Eric Top
@prefix data: <https://github.com/quangis/cct/blob/master/tools/data.ttl#> .
@prefix dbo: <https://dbpedia.org/ontology/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix repo: <https://example.com/#> .
@prefix tools: <https://github.com/quangis/cct/blob/master/tools/tools.ttl#> .
@prefix wf: <http://geographicknowledge.de/vocab/Workflow.rdf#> .

repo:wfhospitals_network a wf:Workflow ;
    wf:edge data:wfhospitals_network_n8 ;
    dct:subject "" ;
    rdfs:comment "What three hospitals are closest to 2350 Pine St, San Francisco, at most within a two minutes drive?" ;
    dbo:abstract "The closest facility solver finds one or more facilities that are closest to an incident based on travel time or travel distance and outputs the best routes as driving directions between the incidents and the chosen facilities. In this tutorial, you'll use this tool to find the closest hospital to an accident. Finding a closest facility can be associated with a local network dataset or a network service hosted in ArcGIS Online or ArcGIS Enterprise. " .

data:wfhospitals_network_hospitals rdfs:label "Hospital locations" ;
    rdfs:comment "Point locations of hospitals in San Francisco" .

data:wfhospitals_network_hospitals_incident_near_table rdfs:label "Near Table" ;
    rdfs:comment "A table with entries for each of the three closest hospitals to the incident location" .

data:wfhospitals_network_incident rdfs:label "2350 Pine St Location" ;
    rdfs:comment "Geocoded location point of 2350 Pine St, San Francisco, where an incident occurred" .

data:wfhospitals_network_n8 wf:applicationOf tools:GenerateNearTable ;
    wf:input1 data:wfhospitals_network_hospitals ;
    wf:input2 data:wfhospitals_network_incident ;
    wf:output data:wfhospitals_network_hospitals_incident_near_table ;
    rdfs:comment "Search for the three closest hospitals using Euclidean distance" .

